Amiga Bug/WIP/Wish list
Status:
	TODO	fix now
	NEXT	delay until next release
	LATER	someday....
	IP	in progress - someone is working on it now
	CHECK	see if this can be reproduced - or delete it
YYMMDD-seq	from	status	last-seen
	info
960312-00	andy	LATER	3.2.0dev
	txt2iff.c should be cleaned up a bit - rather confusing now in some
	places.
960204-01	keni	TODO	3.2.0dev
	check Abort code for DICE - is what's there sufficient?
950810-00	keni	TODO	3.2.0dev
	stop using commands in c: in front ends.  Update docs.
950807-00	keni	TODO	3.2.0dev
	Apparently panic() does something that prevents panic saves on micros.
950806-03	keni	TODO	3.2.0dev
	Seen once - toggle fastmap on during game.  Border around player
	is rendered about 2 pixels left of proper location.
950806-04	keni	TODO	3.2.0dev
	If we're happy with fastmap, get rid of DISPMAP as distinct option.
950806-08	keni	TODO	3.2.0dev
	menu windows sometimes have inappropriate titles and/or prompts,
	and possibly bad decisions about when to allow selections
	(this problem needs to be defined better)
950806-09	keni	TODO	3.2.0dev
	Check and update copyright notices, dates, and version numbers.
950806-10	keni	TODO	3.2.0dev
	Check dependencies for dlb.o against Unix makefile.
	Check dependencies for tile.c/.o against Unix makefile (config.h
	onames.h pm.h more?)
950806-11	keni	TODO	3.2.0dev
	Check mouse actions on menu windows with single and multi-select -
	is it working right?
950806-12	keni	TODO	3.2.0dev
	Figure out AMIV versus AMITILE - can we get down to just one of these
	or is there a distinction I've forgotten?
950806-14	andy	TODO	3.2.0dev
	Missing message font gives almost zero height message window.
	Maybe only when running from sbin directory?  (Is this a problem
	finding NetHack.cnf?)
950806-15	user	TODO	3.1.3
	Is there a conflict with SCREEN=x?  Is X LACE/NOLACE or a public
	screen ID?  Is the code consistent with the docs?  Did we just lose
	some functionality by accident or is one of these just wrong?
950805-00	devteam	TODO	3.2.0dev
	cope with changed extended commands in menu
950805-01	user	LATER	3.2.0dev
	Known save bug.  bputc does not check write return under ZEROCOMP
	Fixing this correctly must wait until saving state can be restarted.
	(Janet is aware of this situation - affects other ports too.)
	Vaguely related: re-consider issues involved in COW from save files.
	Related: check error checking code on level files (GURU after many
	write errors)
	Related: split save files (if needed)
	Vaguely related: multiple disks of level files
950805-04	keni	CHECK	3.2.0dev
	Argument processing (from all 3 ways to start a game).   I broke it
	last month - is it _really_ fixed?
950805-05	keni	CHECK	3.2.0dev
	Has anyone checked HackWB really well recently?
950805-06	keni	TODO	3.2.0dev
	Update embedded copyright notices.  There should be no version
	numbers left to update manually.
950805-08	keni	CHECK	3.2.0dev
	winfuncs:595 - is this test against TextsFont right?  It's used
	unconditionally in many other places.  Are the others right then?
950805-10	user	TODO	3.2.0dev
	3.1.3 bug report of crash with really large font as FONT= in cnf.
	3.2.0dev doesn't crash with FONT=helvetica.font:24, but we do get:
	1. line break of start text is bad, scroll is wrong
	  winstr.c:putstr:128 - I think the logic here is wrong.  The test
	  should be width-fudge, but when scanning for a break point the
	  scan should start at width since the decision has already been
	  made to cut the line.
	2. initial position of hero is off screen (I think I have seen this
	  occurs other times too)
	3. why does sizing insist on so many lines for topl - map is too small
	4. should ignore user font preference for botl if can't get all the
	  info there
	5. final "since you were in wizard mode.." not folded - may be a
	 problem with unwrapped puts call
950701-00	keni	TODO	3.2.0dev
	AMIV scrolling does not always shift vertically by an even tile
	amount.  After moving the integral amount, a second small shift
	occurs - and this leaves artifacts.  Most easily seen by noting
	the height of a horizontal corridor or wall run where it abuts a
	vertical run.
950701-01	keni	TODO	3.2.0dev
	DOCUMENTATION:
	1. make sure all docs have list of game requestors (sizing, color, help)
	2. doc overview window
	3. Install.ami
	4. doc support for SCREEN=<publicscreen> etc for HackWB
	5. split docs into separate binary and installation files 
	6. is there anything useful we can do with AmigaGuide inside or outside
	the game to deal with the various doc files?
	7. doc WB cmdline options
950701-02	keni	IP	3.2.0dev
	BBS interface.  Needs docs.  Currently waiting for report from
	beta tester with real BBS system (and crippled NH binary for testing).
	Documentation update required.  Further design work probably required.
	Further locking work probably required.
950701-03	keni	NEXT	3.2.0dev
	Use lower-level allocation scheme in loader and turn NH main into
	fake shared library so we can leave it in memory between invocations.
	This is much better for BBS mode, and means HackCli can lose the awful
	restart hack.  Also should allow useful TB files (or fix catch.c so
	it doesn't try to make them).
950601-00	user	CHECK	3.1.3
	1024*800 display wrong
950601-01	keni	CHECK	3.1.3
	Resize topl window - most keystrokes now cause scrollbar to flicker.
950601-02	keni	CHECK	3.1.3
	do -l and -L work right with -s?
950601-03	keni	CHECK	3.1.3
	help messages for highscore in hackwb
950601-04	keni	CHECK	3.1.3
	-s help missing in amiwbench (and hackcli?)
950601-05	keni	CHECK	3.1.3
	showscore (etc?) should track config.h in frontend
950601-06	keni	CHECK	3.1.3
	Newgame.info should be dup'd and modified, not modified in place
	Related: newgame.info should not be a legal icon
950601-07	keni	TODO	3.1.3
	check stacksize inside program and frontends.
	Related: how much stack is required?  Let the frontends allocate
	that much.
950601-08	keni	CHECK	3.1.3
	improve initial mouse click suppression so first action of game can be
	mouse click and so that activation of one NH window from another doesn't
	suppress mouse action.
950601-09	user	CHECK	3.1.3
	(I don't know what this is - keni)
	copy SCREEN into TT of default icon (or other fix to problem??)
950601-10	user	CHECK	3.1.3
	(unknown condition) save cancel at start (when blank) disallows later
	save
950601-11	user	CHECK	3.1.3
	(Is this a good idea?  Is it already done?)
	keypad 5 should be rest on space (like 3.0)
950601-12	?	CHECK	3.2.0dev
	is NULL still begin redefined?  (Yes.  Do we care enough to change it?)
950601-13	?	CHECK	3.1.3
	check for USE_BUILTIN_MATH for min/max
950601-14	keni	TODO	3.2.0dev
	add RESETOPTS to sc invocations
950601-15	keni	CHECK	3.1.3
	several strcpy of user supplied data instead of strncpy in wb
950601-16	keni	CHECK	3.1.3
	^P of message >1 topl long
950601-17	keni	LATER
	make window frames optional on -L
950601-18	keni	LATER
	BufferGetchar - use circular buffer to limit copying
950601-19	keni	LATER
	busy pointer during load, save, etc
950601-20	keni	TODO
	check for orphaned (uncalled) functions
	check for prototypes for all functions
	reformat functions to match NH style guide
	make more Amiga functions static
	move data externs to include files
	rename .p to .h?
950601-21	keni	TODO
	lots of leftovers from original Amiga port from IBM port:
	1. finish removing ramdisk
	2. check flags IBM BIOS and rawio - flag.h options.c restore.c (more?)
	3. check MFLOPPY vs MICRO (some was DGK stuff).  Was DGK optional?
	If not, dump all the extra ifdefs.
950601-22	keni	LATER
	improve amifont - swallow should get its own chars for a solid
	surround (reverse video so it matches the "inside of monster"
	concept).  Zap should get its own chars more like tildes than dashes.
950601-23	keni	LATER
	Can we use getprogramdir()?  Do we want to? (We need to cope without
	it also.)
950601-24	keni	LATER
	botl - need new interface, don't fall off end, highlight changes
	(Need something other than the last thing I tried.)
950601-25	Gregg(?) TODO
	have per-character-class icons for the front-end (code done)
	Can we get these from Warwick?  Can we get them converted to the
	right format easily enough to do now?
950601-25	many	TODO
	Installation procedures.  Do we actually need installer now that
	there are fewer files?  Would a configuration utility or addon
	to HackWB take care of it better?
950601-26	keni	LATER
	waiting for key display
950601-27	keni	CHECK
	move(duplicate?) color requestor to front end
950601-28	keni	LATER
	picture at startup (maybe loaded by hackwb to cover load time?)
	Now that the new amirip is done this should be almost easy.
950601-29	many	LATER
	add permanent inventory window in interlace mode (Is there already
	some code for this?)
950601-30	keni	LATER
	Real line wrap (combine and split) for text windows.  (I've tried
	this once - the proposal went down in flames.  I think it deserves
	another try.)
950601-31	keni	LATER
	split Amiga and amii/amitile/amibbs code for window system (the way
	we should)  Can we?  Is it worth it?  (probably - things are too
	intertwined)
950601-32	keni	LATER
	can we limit redundant SetAPen (etc) calls?  Do the lib routines short
	circuit for us (and so is this a non-issue)?  (No, at minimum there
	are too many unneeded calls.)
950601-33	keni	LATER
	Consider keyboard macros, function keys.
950601-34	keni	LATER
	(This is one step from being deleted - is there anything to do with
	this?) AREXX port
950601-35	keni	LATER
	change panic's to Aborts with AN_Unknown base (save string space)
950601-36	keni	LATER
	check MSTEP influence
950601-37	keni	LATER
	add requestor for options in main binary
950601-38	keni	LATER
	add requestor for score options in hackwb
